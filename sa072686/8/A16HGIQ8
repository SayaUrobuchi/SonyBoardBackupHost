§@ªÌ: yuscvscv («n¤@¦Ê¯Å±Ð¾Ç¤p¥i³½) ¯¸¤º: sa072686
¼ÐÃD: [ACM] 11026
®É¶¡: 2010/12/27 Mon 16:16:08


A Grouping Problem

Description

µ¹§A¤@­Ó¦³ N ­Ó¥¿¾ã¼Æªº¶°¦X¡A§A¥i¥H¥ô·N¨ú K ­Ó¤£¦Pªº¤¸¯À¨Ó§Î¦¨¤@­Ó¤p²Õ¡C

¨â­Ó¤p²Õ¦pªG¦³¦Ü¤Ö¤@­Ó¤¸¯À¤£¬Û¦P´N³Q·í§@¬O¤£¦Pªº¤p²Õ¡C


Á|­Ó¨Ò¤l¨Ó»¡¡A°²³]³o¸Ì¦³ 4 ­Ó¤¸¯À a, b, c, d¡C

§A¥i¥H¨ú 2 ­Ó¤£¦Pªº¤¸¯À¨Ó§Î¦¨ ab, ad, bc, cd ½Ñ¦¹¤§Ãþªº¦Xªk¥B¤£¦Pªº¤p²Õ¡C


¹ï©ó¨C­Ó K ¥i¥H§Î¦¨¤@­Ó§¹¾ãªº¤p²Õ¨t²Î¡A

¸ÌÀY³£¬O¦Xªk¥B¤£¬Û¦Pªº¤p²Õ¡A¥B¼Æ¶q³Ì¤j¤Æ¡C

¹ï©ó¤W­±ªº¨Ò¤l¡A{ab, bc, cd, bd, ad, ac}¬O K = 2 ªº§¹¾ã¤p²Õ¨t²Î¡C


¹ï©ó¤@­Ó¯S©wªº§¹¾ã¤p²Õ¨t²Î¡A¦³­Ó"¦X¾A«×"¡A¥L¬O³o¼Ë­pºâªº¡G

    1.¹ï©ó³o­Ó¨t²Î¸Ìªº¨C­Ó¤p²Õ³£¦³­Ó°^Äm­È¡A³o­Ó­È¬O¸Ó²Õ¤ºªº©Ò¦³¤¸¯À¬Û­¼¡C
    2.Á`°^Äm­È¬O©Ò¦³¤p²Õªº°^Äm­ÈÁ`©M¡C
    3.³o­Ó§¹¾ãªº¤p²Õ¨t²Îªº¦X¾A«×¬O Á`°^Äm­È mod M ¡A M¬O¤@­Ó¤wª¾ªº°Ñ¼Æ¡C


¦b¤W­±ªº¨Ò¤l¡A¹ï©ó K = 2¡A°^Äm«× F2 = (ab+bc+cd+bd+ad+ac) mod M¡C

°²³] K = 1¡A F1 = (a+b+c+d) mod M¡C


¦b³o­Ó°ÝÃD¡A§A¥²¶·§ä¥X¾Ö¦³³Ì¤j¦X¾A«×ªº§¹¾ã¤p²Õ¨t²Î¡C


Input
¨C²Õ´ú¸Õ¸ê®Æ±N¥H¨â­Ó¥¿¾ã¼Æ N (2 <= N <= 1000), M (1 <= M < 2^31) ¶}©l¡C

±µµÛ´X¦æ·|¦@¦³ N ­Ó¥¿¾ã¼Æ¡A¨C­Ó¥¿¾ã¼Æ³Ì¤j 1000¡C

¿é¤J±Nµ²§ô©ó N = M = 0¡C


Output
¹ï©ó¨C²Õ´ú¸Õ¸ê®Æ¿é¥X¤@¦æ¡Aªí¥Ü¥i¯àªº³Ì¤j¦X¾A«×¡C


Sample Input
4 10
1 2 3 4
4 100
1 2 3 4
4 6
1 2 3 4
0 0


Sample Output
5
50
5

--
[1m               [42m¢q[40m¢w¢¡                  ¢~¢w¢w¢w¢w¢w¢w¢w¢¡[m
[1m               ¢x  ¢x[1m¥[mx«[1mn¤@¤[m¤¡D¯[1mÁ¥§¤[mp¯[1m¸[m¡ý[1msony.TFcis.org¢x  ¢x[m
[1m                   ¢¢¢w¢w¢w¢w¢w¢w¢w¢w¢w¢£              ¢¢¢w[42m¢q[m
[1m               by yuscvscv from [m [1m111.255.19.54 (¤¤·Æ¤@µf)[m

