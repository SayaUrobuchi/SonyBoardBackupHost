§@ªÌ: seanwu (2,2-¤G¥Ò°ò¤þÖJ) ¯¸¤º: sa072686
¼ÐÃD: Re: [ACM]599
®É¶¡: 2007/04/02 Mon 23:15:47

¡° ¤Þ­z¡msa072686 (a week free again)¡n¤§»Ê¨¥¡G
> ¤£Ãøªº¤@ÃD¡A¤]¬OTree½Òªº²Ä¤G¦¸§@·~¡A·í®É¤£ª¾¹D½Öµo°_ªº
> ¤@°ï¤H¦b¨ºÃä½Ä¦W¦¸¡A³s¿é¥XÅª¤J©M«Øªí³£¥X¨Ó¤F¡AÂ²ª½¬O¤£¾Ü¤â¬q¡K
> ·íµM§Ú¦]¬°¨S¦³°Ñ»P¡A¨S¿ìªk´£¨Ñ½Ä¦W¦¸¬ÛÃöªº°µªk¡AÅwªï¸É¥R½Ä¦W¦¸ªº¤jµ´
> 0.842sec AC¡A35/227
> «e¤Q¦W´X¥G³£¬OTOIªº¤F¡K
> Â½Ä¶¤@¤U
> µ¹§A¤@­Ó´ËªL¡A¿é¥X¦³´X´Ê¾ð©M´X­ÓÂI¥u¦³¿W¦Û¤@ÂI¦ÓµLªk§Î¦¨¾ð
> ¸Ñªk¦p¤U¡A°£¤F¥¿±`ª½Ä±¸Ñªk¥~ªþ¤W¤@­Ó¯«©_ªº¸Ñªk¡A·PÁÂ¶¯¤¤ªº±jªÌ­Ì
> ---- ¤À¹j½u ----
> ¶â¡A¤@¯ë¥¿±`ªºDFS©Î¬Ounion set³£¤w¨¬°÷
> ¥t¤@­Ó¤ñ¸û¯«©_ªº¸Ñªk¬O§Q¥Î©w¸q¡A¤@´Ên­Ó¸`ÂIªº¾ð¥²¦³n-1±øÃä
> ©Ò¥H¥ý§â³æ¿W¤@ÂIªº¥þ³¡§ä¥X¨Ó¡A¤§«á³Ñ¤Uªº´N¬ÝÃä¼Æ©M¸`ÂI¼Æ§Y¥iºâ¥X¾ð¼Æ

§YµM³o¼Ë¡A¨º§Ú´N¤£«È®ð°Õ~

1. printf("%d")  ³o­Ó%d¤ÓºC

   §â©Ò¦³¥i¯à¥X²{ªºµª®×«Ø¦r¦êªí¦s°_¨Ó
   ÁÙ¦³¦r¦êªø«×ªí¡C


2. ¨Ï¥Îfread + fwrite

  buffer¶}6750000¨¬°÷¡A¥Îfread¤@¦¸Åª¤J¡A
  answer¥þ³¡¦ê±µ¦A¤@°_¡A¥Îfwrite¤@¦¸¿é¥X¡C


3. ¤@¦¸¿é¥X¤@Byte¤ÓºC....§ï¥Îint¸Ë4­ÓByte¡C
   input ¤]¬O
   ¥t¥~¼g­Óprog°µÂà´«¡Aª`·Nintªº¦ì¤¸²Õ¬O¥Ñ§C¨ì°ª±Æ¦C

4. ·íµM¡A«ü¼Ð,register,¦ì¤¸¹Bºâ¤@©w¬O¥²­nªº°Õ..

-
Your C++ program has solved Ok the problem 599 (The Forrest for the Trees)
in 0.158 seconds using as much as 6988 kbytes of virtual memory.
-

#include <stdio.h>
#include <string.h>
char buf[6750000];

int num_table[128]={0,0,0,0,......0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,0,0};

int output_table[3780]={1919248468,1918967909,540024933,1701147252,539587368,
543452769,1667309616,678326895,170797427,4012800,1919248468,1918967909,
540090469,

......... (¶ë¨ìint¤º)

1701147252,539587368,543452769,1667309616,678326895,170797427,4012800,
1919248468};

char str_len[378]={36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,37
,37,37,37,37,37,37,37,37,37,38,38,38,38,38,38,37,37,37,37,37,37,37,37,37,37

...........

,37,37,37,37,37,37,37,37,37,37,38,38,38,38,38,38,38,37,37,37,37,37,
37,37,37,37,37};

int main() {
    char u[128];
    register char *k,*l,*p,*q;
    register int index;
    register int output_len;
    register int t,s,z,a;

    fread((int*)(buf+2000),4,1687000,stdin);
    p=buf+2000;
    output_len=0;
    t=0;
    while(*p!='\n') t=t*10 + *(num_table+*(p++));
    while(t--) {

        u[65]=0;u[66]=0;u[67]=0;u[68]=0;u[69]=0;u[70]=0;u[71]=0;u[72]=0;u[73]=0;u[74]=0;u[75]=0;u[76]=0;u[77]=0;u[78]=0;u[79]=0;u[80]=0;u[81]=0;u[82]=0;u[83]=0;u[84]=0;
        u[85]=0;u[86]=0;u[87]=0;u[88]=0;u[89]=0;u[90]=0;
        z=0;
        while(*(++p)!='*') {
            ++z;
            u[*(++p)]=1;
            p+=2;
            u[*p]=1;
            p+=2;
        }
        while(*(++p)=='*');
        s=0;
        a=0;
        do {
            ++s;
            a+=(1^u[*(++p)]);
        }while(*(++p)!='\n');
        s-=z;

        index=s*(s+1)/2+a;
        k=buf+output_len;
        l=(char*)(output_table + index*10);
        memcpy(k,l,*(str_len+index));
        output_len += *(str_len+index);
    }
    a=output_len>>2;
    fwrite((int*)buf,4,a,stdout);
    fwrite(buf+(a<<2),1,output_len-(a<<2),stdout);
    return 0;
}




--
[1m               [42m¢q[40m¢w¢¡                  ¢~¢w¢w¢w¢w¢w¢w¢w¢¡[m
[1m               ¢x  ¢x[1m¥[mx«[1mn¤@¤[m¤¡D¯[1mÁ¥§¤[mp¯[1m¸[m¡ý[1msony.TFcis.org¢x  ¢x[m
[1m                   ¢¢¢w¢w¢w¢w¢w¢w¢w¢w¢w¢£              ¢¢¢w[42m¢q[m
[1m               by seanwu from [m [1mpc21-160.hwai.edu.tw.21.68.203.in-addr.arpa (¤¤µØÂå¨Æ¾Ç°|)[m

¡÷ [36msilentvow [31m±À[m:¦n»êÅ¼ªºcode ...                                    0402 23:20
¡÷ [36msa072686 [31m±À[m:ÁàÃz¤FÊ¨¡K¤£¹L¶]«Ü§Ö­Ë¬O¯uªº                         0402 23:25
¡÷ [36mchensc [31m±À[m:©_§Þ²]¥©¤S¤@¨Ò....                                     0402 23:26
¡÷ [36mseanwu [31m±À[m:¤°»ò= ==   ³o¥s¤O»P¬üªºµ²¦X...                         0402 23:26
¡÷ [36mchensc [31m±À[m:§º¤C¤O¸ò³\¯Â¬üªºµ²¦X¡K(¤j»~)                           0403 00:02
¡÷ [36msilentvow [31m±À[m:¹Ã ... (¨g¦R)                                       0403 00:09
¡÷ [36msa072686 [31m±À[m:¶â¡K¡]µ§°O¡^                                         0403 10:16
